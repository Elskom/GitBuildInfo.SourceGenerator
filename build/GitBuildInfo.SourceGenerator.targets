<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <UsingTask TaskName="GitBuildInfo.GitInfoTask"
             TaskFactory="RoslynCodeTaskFactory"
             AssemblyFile="$(MSBuildToolsPath)\Microsoft.Build.Tasks.Core.dll">
    <ParameterGroup>
      <OutputPath Required="true" />
    </ParameterGroup>
    <Task>
      <Code Source="GitInfoTask.cs" />
    </Task>
  </UsingTask>

  <Target Name="BeforeCompile">
    <GitInfoTask OutputPath="$(MSBuildProjectDirectory)\GitInfo.json" />
  </Target>
</Project>
